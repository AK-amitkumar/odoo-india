<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
		<record id="account_invoice_cform" model="ir.ui.view">
            <field name="name">account.invoice.cform</field>
            <field name="model">account.invoice.cform</field>
            <field name="arch" type="xml">
                <form string="C Form Report" version="7.0">
                	<group>
                		<field name="chart_account_id" on_change="onchange_coa(chart_account_id)"/>
                		<field name="fiscalyear_id" domain="[('company_id','=',company_id)]"/>
                		<field name="form_type"/>
                		<field name="filter" on_change="onchange_filter(filter, fiscalyear_id)"/>
                		<field name="group_by"/>
                		<field name="period_from" domain="[('fiscalyear_id', '=', fiscalyear_id)]" attrs="{'invisible':[('filter','=','filter_no')], 'required': [('filter','=','filter_period')]}"/>
                		<field name="period_to" domain="[('fiscalyear_id', '=', fiscalyear_id)]" attrs="{'invisible':[('filter','=','filter_no')]}"/>
                		<field name="company_id" invisible="1"/>
                	</group>
                	<label for="account_ids" attrs="{'invisible':[('group_by','=','by_partners')]}"/>
                	<group name="Select Accounts" attrs="{'invisible':[('group_by','=','by_partners')]}">
                		<field name="account_ids" nolabel="1" domain="[('company_id','=',company_id), ('type', 'in', ('receivable','payable'))]"/>
                	</group>
                	<label for="partner_ids" attrs="{'invisible':[('group_by','=','by_accounts')]}"/>
                	<group name="Select Partners" attrs="{'invisible':[('group_by','=','by_accounts')]}">
                		<field name="partner_ids" nolabel="1"/>
                	</group>
                	<button name="print_report" string="Print" type="object" class="oe_highlight"/>
                	or
                	<button string="Cancel" class="oe_link" special="cancel" />
                </form>
            </field>
        </record>
    	
    	<record id="action_account_invoice_declaration_forms" model="ir.actions.act_window">
    		<field name="name">Declaration Form</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.invoice.cform</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="account_invoice_cform"/>
            <field name="target">new</field>
        </record>
        
        <menuitem id="menu_declaration_form" parent="account.menu_finance_generic_reporting" name="Forms"/>
        <menuitem action="action_account_invoice_declaration_forms" id="menu_print_form" parent="menu_declaration_form" name="Declaration Form"/>
    </data>
</openerp>
<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<record id="view_inherit_purchase_requisition_list" model="ir.ui.view">
			<field name="name">inherit.purchase.requisition.list</field>
			<field name="model">purchase.requisition</field>
			<field name="inherit_id"
				ref="purchase_requisition.view_purchase_requisition_tree" />
			<field name="arch" type="xml">
				<field name="origin" position="after">
					<field name="indent_id" invisible="1" />
					<field name="indentor_id" invisible="1" />
					<field name="department_id" invisible="1" />
				</field>
			</field>
		</record>
		<!-- End -->

        <!-- Purchase Requisition search view -->
        <record id="view_inherit_purchase_requisition_search" model="ir.ui.view">
            <field name="name">inherit.purchase.requisition.search</field>
            <field name="model">purchase.requisition</field>
            <field name="inherit_id"
                ref="purchase_requisition.view_purchase_requisition_filter" />
            <field name="arch" type="xml">
                <filter string="Responsible" position="after">
                    <filter string="Indent" icon="terp-personal" domain="[]"
                        context="{'group_by':'indent_id'}" />
                    <filter string="Indentor" icon="terp-personal" domain="[]"
                        context="{'group_by':'indentor_id'}" />
                    <filter string="Department" icon="terp-personal" domain="[]"
                        context="{'group_by':'department_id'}" />
                </filter>
                <field name="exclusive" position="after">
                    <field name="indent_id" />
                    <field name="indentor_id" />
                    <field name="department_id" />
                </field>
            </field>
        </record>
        
		<!-- Purchase Requisition Form Inherit for add field -->
		<record id="view_maize_purchase_requisition_order" model="ir.ui.view">
			<field name="name">inherit.purchase.requisition.form</field>
			<field name="model">purchase.requisition</field>
			<field name="inherit_id"
				ref="purchase_requisition.view_purchase_requisition_form" />
			<field name="arch" type="xml">
				<xpath expr="//notebook/page/field[@name='purchase_ids']"
					position="replace">
					<field name="purchase_ids" widget="one2many_list">
						<tree string="Purchase Order">
							<field name="name" string="Reference" />
							<field name="date_order" string="Order Date" />
							<field name="partner_id" />
							<field name="company_id" groups="base.group_multi_company"
								widget="selection" />
							<field name="location_id" groups="stock.group_locations" />
							<field name="minimum_planned_date" />
							<field name="origin" />
							<field name="state" />
							<button name="purchase_cancel" states="draft,confirmed,wait_auth"
								string="Cancel Purchase Order" icon="gtk-cancel" />
							<button name="purchase_confirm" states="draft"
								string="Confirm Purchase Order" icon="gtk-apply" />
							<button name="purchase_approve" states="confirmed"
								string="Approved by Supplier" icon="gtk-ok" />
						</tree>
					</field>
				</xpath>
				<xpath expr="//field[@name='exclusive']" position="attributes">
					<attribute name="invisible">True</attribute>
				</xpath>
				<xpath
					expr="/form/sheet/notebook/page/field[@name='purchase_ids']/tree/field[@name='origin']"
					position="replace">
					<field name="amount_total" />
				</xpath>
				<xpath expr="//button[@string='Request a Quotation']"
					position="before">
					<button name="request_all_supplier" type="object"
						string="Request To All Suppliers" icon="gtk-execute"
						attrs="{'invisible': [('line_ids','=',False),('state', 'not in', ('in_progress'))]}" />
				</xpath>
			</field>
		</record>

		<!-- inherit create quatation wizard view -->
		<record id="inherit_view_purchase_requisition_partner" model="ir.ui.view">
			<field name="name">purchase.requisition.partner.inherit.view</field>
			<field name="model">purchase.requisition.partner</field>
			<field name="inherit_id"
				ref="purchase_requisition.view_purchase_requisition_partner" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='partner_id']" position="after">
					<field name="po_series_id" />
				</xpath>
			</field>
		</record>

	</data>
</openerp>
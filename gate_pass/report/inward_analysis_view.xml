<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

    <record id="stock.view_stock_tree" model="ir.ui.view">
        <field name="name">report.stock.move.tree</field>
        <field name="model">report.stock.move</field>
        <field name="arch" type="xml">
            <tree string="Moves Analysis" create="false">
                <field name="date" invisible="1"/>
                <field name="year" invisible="1" />
                <field name="month" invisible="1"/>
                <field name="day" invisible="1"/>
                <field name="type" invisible="1"/>
                <field name="company_id" invisible="1"/>
                <field name="picking_id" invisible="context.get('issue_new',False)"/>
                <field name="date"/>
                <field name="partner_id" invisible="context.get('issue_new',False)"/>
                <field name="location_id" invisible="1"/>
                <field name="location_dest_id" invisible="1"/>
                <field name="product_id" invisible="context.get('product_id_view',False)"/>
                <field name="lr_no" invisible="context.get('lr_no',True)"/>
                <field name="lr_date" invisible="context.get('lr_no',True)"/>
                <field name="categ_id" invisible="context.get('categ_id',True)"/>
                <field name="stock_journal" invisible="1"/>
                <field name="state" invisible="1"/>
                <field name="id" string="No" invisible="1"/>
                <field name="inward_year" invisible="1"/>
                <field name="gate_pass_id" invisible="context.get('gate_pass_id',True)"/>
                <field name="gp_date" invisible="context.get('gate_pass_id',True)"/>
                <field name="challan_no" invisible="context.get('challan_no',True)"/>
                <field name="case_code" invisible="context.get('case_code',True)"/>
                <field name="product_qty" string="Challan" sum="Total Challan " invisible="1"/>
                <field name="product_qty" string="Received" sum="Total Received" invisible="context.get('receipt_view',True)"/>
                <field name="bill_no" invisible="context.get('bill_no',True)"/>
                <field name="bill_date" invisible="context.get('bill_no',True)"/>
                <field name="diff" invisible="context.get('diff_view',True)"/>
                <field name="indent_year" invisible="context.get('indent',True)"/>
                <field name="puchase_year" invisible="context.get('tax',True)"/>
                <field name="product_qty_in" sum="Total incoming quantity" invisible="context.get('inward_view',True)"/>
                <field name="product_qty_out" sum="Total outgoing quantity" invisible="1"/>
                <field name="product_uom" invisible="context.get('product_uom_view',False)"/>
                <field name="rate"/>
                <field name="value" sum="Total value"/>
                <field name="excies" invisible="context.get('receipt_view',True)"/>
                <field name="tr_code" invisible="1"/>
                <field name="department_id" invisible="context.get('issue_view',True)"/>
                <field name="cess" invisible="context.get('receipt_view',True)"/>
                <field name="high_cess" invisible="context.get('receipt_view',True)"/>
                <field name="import_duty" invisible="context.get('tax',True)"/>
                <field name="cenvat" invisible="context.get('tax',True)"/>
                <field name="half_cess" invisible="context.get('tax',True)"/>
                <field name="half_high_cess" invisible="context.get('tax',True)"/>
                <field name="half_import_duty" invisible="context.get('tax',True)"/>
                <field name="half_cenvat" invisible="context.get('tax',True)"/>
                <field name="despatch_mode" invisible="1"/>
                <field name="cylinder" invisible="context.get('cylinder_view',True)"/>
                <field name="tr_code_id" invisible="context.get('tr_code_view',True)"/>
                <field name="ac_code_id" invisible="context.get('ac_code_view',True)"/>
                <field name="payment_id" invisible="context.get('po',True)"/>
                <field name="indentor_id" invisible="1"/>
                <field name="indent_id" invisible="context.get('indent_id_view',False)"/>
                <field name="purchase_id" invisible="context.get('issue_new',False)"/>
                <field name="po_series_id" invisible="context.get('issue_new',False)"/>
                <field name="day_diff1" invisible="context.get('indent',True)"/>
                <field name="day_diff" invisible="context.get('indent',True)"/>
                <field name="day_diff2" string="Delay(Days)" invisible="context.get('indent',True)"/>
           </tree>
        </field>
    </record>
    <record id="stock.view_stock_graph" model="ir.ui.view">
         <field name="name">report.stock.move.graph</field>
         <field name="model">report.stock.move</field>
         <field name="arch" type="xml">
             <graph string="Moves Analysis" type="bar">
                 <field name="product_id"/>
                 <field name="product_qty" operator="+"/>
             </graph>
         </field>
    </record>

    <record id="stock.view_stock_search" model="ir.ui.view">
        <field name="name">report.stock.move.search</field>
        <field name="model">report.stock.move</field>
        <field name="arch" type="xml">
            <search string="Moves Analysis">
                <filter string="Done" name="done" icon="terp-dialog-close" domain="[('state','=','done')]" help = "Completed Stock-Moves"/>
                <filter string="Todo" icon="terp-gtk-go-back-rtl" domain="[('state','in',('assigned','waiting','confirmed'))]" help = "Future Stock-Moves"/>
                <separator/>
                <filter icon="terp-go-home" name="in" string="Inward" domain="[('type','=','in')]" context="{'inward_view': False}"/>
                <filter icon="terp-go-home" name="internal" string="Issue" domain="[('type','=','internal')]" context="{'issue_view':False,'issue_new':True}"/>
                <filter icon="terp-go-home" name="out" string="Outgoing" domain="[('type','=','out')]"/>
                <filter icon="terp-go-home" name="receipt" string="Receipt" domain="[('type','=','receipt')]" context="{'receipt_view': False}"/>
                <filter icon="terp-go-home" name="Cash Code" string="Cash Only" domain="[('case_code','=', True)]"/>
                <field name="product_id" default_focus="1"/>
                <field name="partner_id" context="{'contact_display':'partner'}"/>
                <group expand="0" string="Extended Filters...">
                    <field name="location_id" />
                    <field name="location_dest_id" />
                    <field name="categ_id"/>
                    <field name="stock_journal"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="date"/>
                </group>
                <group string="Display">
                    <filter name="group_categ_id" string="Product Category" icon="terp-stock_symbol-selection" context="{'categ_id': False}"/>
                    <filter name="group_lr_no" string="LR " icon="terp-stock_symbol-selection" context="{'lr_no': False}"/>
                    <filter name="group_gate_pass_id" string="Gate Pass" icon="terp-stock_symbol-selection" context="{'gate_pass_id': False}"/>
                    <filter name="group_bill_no" string="Bill" icon="terp-stock_symbol-selection" context="{'bill_no': False}"/>
                    <filter name="group_tax" string="Tax(Excies,Cess etc.)" icon="terp-stock_symbol-selection" context="{'tax': False}"/>
                    <filter name="group_purchase" string="Purchase" icon="terp-stock_symbol-selection" context="{'po': False}"/>
                    <filter name="group_indent" string="Indent" icon="terp-stock_symbol-selection" context="{'indent': False}"/>
                    <filter name="group_lead_time" string="Lead Time" icon="terp-stock_symbol-selection" context="{'lead': False}"/>
                    <filter name="group_case_code" string="Cash Only" icon="terp-stock_symbol-selection" context="{'case_code': False}"/>
                    <filter name="group_challan_no" string="Challan No" icon="terp-stock_symbol-selection" context="{'challan_no': False}"/>
                    <filter name="group_tr_code" string="TR Code" icon="terp-stock_symbol-selection" context="{'tr_code_view': False}"/>
                    <filter name="group_ac_code" string="Ac Code" icon="terp-stock_symbol-selection" context="{'ac_code_view': False}"/>
                    <filter name="group_cylinder" string="Cylinder" icon="terp-stock_symbol-selection" context="{'cylinder_view': False}"/>
                    <filter name="group_diff" string="Diff" icon="terp-stock_symbol-selection" context="{'diff_view': False}"/>
                </group>
                <group expand="1" string="Group By...">
                    <filter name="group_partner" string="Supplier" icon="terp-partner" context="{'group_by':'partner_id','partner_id_view':True}"/>
                    <filter name="group_categ_id" string="Product Category" icon="terp-stock_symbol-selection" context="{'group_by':'categ_id'}"/>
                    <filter name="group_product" string="Product" icon="terp-accessories-archiver" context="{'group_by':'product_id','product_id_view': True}"/>
                    <filter name="group_picking" string="No" icon="terp-accessories-archiver" context="{'group_by':'picking_id','issue_new':True}"/>
                    <filter string="Source Location" name="src_location" icon="terp-gtk-jump-to-rtl" context="{'group_by':'location_id','location_id_view':True}"/>
                    <filter string="Dest. Location" name="dest_location" icon="terp-gtk-jump-to-ltr"  context="{'group_by':'location_dest_id','location_dest_id_view':True}"/>
                    <filter string="Type" name="group_type" icon="terp-stock_symbol-selection" context="{'group_by':'type'}" help="Shipping type specify, goods coming in or going out"/>
                    <filter string="Status" name="group_state" icon="terp-stock_effects-object-colorize" context="{'group_by':'state'}"/>
                    <filter string="Stock journal" name="group_stock_journal" icon="terp-folder-orange" context="{'group_by':'stock_journal','stock_journal_view':True}"/>
                    <filter string="Gate Pass" name="group_gate_pass" icon="terp-folder-orange" context="{'group_by':'gate_pass_id'}"/>
                    <filter string="Product UOM" name="group_uom" icon="terp-folder-orange" context="{'group_by':'product_uom','product_uom_view': True}"/>
                    <filter string="Purchase Order" name="group_oreder" icon="terp-folder-orange" context="{'group_by':'purchase_id','purchase_id_view':True}"/>
                    <filter string="Purchase Series" name="group_series" icon="terp-folder-orange" context="{'group_by':'po_series_id','po_series_id_view':True}"/>
                    <filter string="Department" name="group_department" icon="terp-folder-orange" context="{'group_by':'department_id','department_id_view':True}"/>
                    <filter string="Payment Term" name="group_payment" icon="terp-folder-orange" context="{'group_by':'payment_id'}"/>
                    <filter string="Despatch Mode" name="group_despatch_mode" icon="terp-folder-orange" context="{'group_by':'despatch_mode'}"/>
                    <filter string="TR Code" name="group_tr_code" icon="terp-folder-orange" context="{'group_by':'tr_code_id','tr_code_id_view':True}"/>
                    <filter string="AC Code" name="group_ac_code" icon="terp-folder-orange" context="{'group_by':'ac_code_id','ac_code_id_view':True}"/>
                    <filter string="Indent" name="group_indent" icon="terp-folder-orange" context="{'group_by':'indent_id','indent_id_view':True}"/>
                    <filter string="Indentor" name="group_indentor" icon="terp-folder-orange" context="{'group_by':'indentor_id','indentor_id_view':True}"/>
                    <filter string="Company" name="group_state" icon="terp-go-home" context="{'group_by':'company_id'}" groups="base.group_multi_company"/>
                    <filter string="Day" icon="terp-go-today" context="{'group_by':'day'}" help="Day Planned"/>
                    <filter string="Month" icon="terp-go-month" context="{'group_by':'date'}" help="Month Planned"/>
                    <filter string="Year" icon="terp-go-year" context="{'group_by':'year'}"  help="Year Planned"/>
                </group>
            </search>
        </field>
    </record>

    <record id="stock.action_stock_move_report" model="ir.actions.act_window">
        <field name="name">Moves Analysis</field>
        <field name="res_model">report.stock.move</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,graph</field>
        <field name="search_view_id"  ref="stock.view_stock_search"/>
        <field name="context">{'contact_display': 'partner','search_default_done':1,'search_default_year':1, 'search_default_month':1, 'search_default_group_type':1, 'group_by': [], 'group_by_no_leaf':0,}</field>
        <field name="help">Moves Analysis allows you to easily check and analyse your company stock moves. Use this report when you want to analyse the different routes taken by your products and inventory management performance.</field>
    </record>
    <menuitem action="stock.action_stock_move_report" id="stock.menu_action_stock_move_report" parent="stock.next_id_61" sequence="3"/>
    
</data>
</openerp>
